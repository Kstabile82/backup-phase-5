{"ast":null,"code":"var _jsxFileName = \"/Users/kstabile/backup-phase-5/client/src/Components/NewRescue.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport UserContext from \"./UserContext\";\nimport ReactModal from 'react-modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NewRescue(_ref) {\n  _s();\n  let {\n    isOpen,\n    setIsOpen,\n    errors,\n    setErrors,\n    rescues,\n    setRescues,\n    userRescues,\n    setUserRescues\n  } = _ref;\n  const msg = useContext(UserContext);\n  const [added, setAdded] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  function handleAdd(e) {\n    e.preventDefault();\n    if (e.target.name === \"name\") {\n      setName(e.target.value);\n    } else if (e.target.name === \"location\") {\n      setLocation(e.target.value);\n    }\n  }\n  let newRescue = {\n    name,\n    location\n  };\n  function handleSubmit(e) {\n    e.preventDefault();\n    postNewRescue(newRescue);\n  }\n  function postNewRescue(newRescue) {\n    fetch(\"/newrescue\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newRescue, msg)\n    }).then(r => {\n      if (r.ok) {\n        r.json().then(rescue => {\n          setRescues([...rescues, rescue]);\n          fetch(\"/myrescues\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              rescue_id: rescue.id,\n              user_id: msg.id,\n              status: \"Admin\"\n            })\n          }).then(r => r.json()).then(r => {\n            setUserRescues([...userRescues, r]);\n            setAdded(true);\n          });\n        });\n      } else {\n        r.json().then(errorInfo => {\n          setErrors(errorInfo);\n\n          // setErrors(errorInfo.errors[0])\n        });\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add-rescue-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleAdd,\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleAdd,\n        type: \"text\",\n        name: \"location\",\n        placeholder: \"City, State\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"formbutton\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 14\n    }, this), errors ? /*#__PURE__*/_jsxDEV(ReactModal, {\n      isOpen: isOpen,\n      contentLabel: \"Example Modal\",\n      ariaHideApp: false,\n      onRequestClose: () => setIsOpen(false),\n      children: [errors.map(e => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: e\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 38\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsOpen(false),\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 28\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n_s(NewRescue, \"BeOwivvaUKDRP829iKfP9Uxmq1Q=\");\n_c = NewRescue;\nexport default NewRescue;\nvar _c;\n$RefreshReg$(_c, \"NewRescue\");","map":{"version":3,"names":["React","useState","useContext","UserContext","ReactModal","NewRescue","isOpen","setIsOpen","errors","setErrors","rescues","setRescues","userRescues","setUserRescues","msg","added","setAdded","name","setName","location","setLocation","handleAdd","e","preventDefault","target","value","newRescue","handleSubmit","postNewRescue","fetch","method","headers","body","JSON","stringify","then","r","ok","json","rescue","rescue_id","id","user_id","status","errorInfo","map"],"sources":["/Users/kstabile/backup-phase-5/client/src/Components/NewRescue.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport UserContext from \"./UserContext\"\nimport ReactModal from 'react-modal';\n\nfunction NewRescue({ isOpen, setIsOpen, errors, setErrors, rescues, setRescues, userRescues, setUserRescues }) { \n    const msg = useContext(UserContext);\n    const [added, setAdded] = useState(false)\n    const [name, setName] = useState(\"\")\n    const [location, setLocation] = useState(\"\")\n    \n    function handleAdd(e) {\n        e.preventDefault();\n        if (e.target.name === \"name\") {\n           setName(e.target.value);\n        }\n        else if (e.target.name === \"location\") {\n            setLocation(e.target.value);\n        }\n    }\n    let newRescue = {\n        name,\n        location\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        postNewRescue(newRescue)\n}\nfunction postNewRescue(newRescue) {\n    fetch (\"/newrescue\", {\n        method: \"POST\",\n        headers: {\n        \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(newRescue, msg)\n        })\n    .then((r) => { \n        if (r.ok) { \n            r.json()\n    .then(rescue => {\n        setRescues([...rescues, rescue])\n        fetch (\"/myrescues\", {\n            method: \"POST\",\n            headers: {\n            \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ rescue_id: rescue.id, user_id: msg.id, status: \"Admin\" })\n            })\n        .then((r) => r.json())\n        .then((r) => {\n            setUserRescues([...userRescues, r]) \n            setAdded(true)\n        })\n    })\n}\nelse {\n    r.json().then((errorInfo) => {\n      setErrors(errorInfo)\n   \n        // setErrors(errorInfo.errors[0])\n    })\n}   \n})\n}\n\n    return (\n        <div className=\"add-rescue-form\">\n             <form onSubmit={handleSubmit}>\n               <input onChange={handleAdd}\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Name\"\n                ></input>\n                <input onChange={handleAdd}\n                type=\"text\"\n                name=\"location\"\n                placeholder=\"City, State\"\n                ></input>\n                <button className=\"formbutton\">Submit</button>\n            </form> \n                 {errors ? <ReactModal\n                    isOpen={isOpen}\n                    contentLabel=\"Example Modal\"\n                    ariaHideApp={false}                    \n                    onRequestClose={() => setIsOpen(false)}>\n                    {errors.map(e => <p>{e}</p>)}    \n                    <button onClick={() => setIsOpen(false)}>Close</button>\n                  </ReactModal> : null } \n         \n        </div>\n    );\n}\nexport default NewRescue; "],"mappings":"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"},"metadata":{},"sourceType":"module"}