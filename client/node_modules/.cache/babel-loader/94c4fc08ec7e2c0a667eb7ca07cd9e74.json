{"ast":null,"code":"var _jsxFileName = \"/Users/kstabile/backup-phase-5/client/src/Components/NewRescue.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport UserContext from \"./UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NewRescue(_ref) {\n  _s();\n  var _this = this;\n  let {\n    postNewRescue,\n    handleCloseErrors,\n    showingErrors,\n    setShowingErrors,\n    errors,\n    setErrors,\n    rescues,\n    setRescues,\n    userRescues,\n    setUserRescues\n  } = _ref;\n  return function (postNewRescue) {\n    const msg = useContext(UserContext);\n    const [added, setAdded] = useState(false);\n    const [name, setName] = useState(\"\");\n    const [location, setLocation] = useState(\"\");\n    function handleAdd(e) {\n      e.preventDefault();\n      if (e.target.name === \"name\") {\n        setName(e.target.value);\n      } else if (e.target.name === \"location\") {\n        setLocation(e.target.value);\n      }\n    }\n    let newRescue = {\n      name,\n      location\n    };\n    function handleSubmit(e) {\n      e.preventDefault();\n      postNewRescue(newRescue);\n    }\n    function postNewRescue(newRescue) {\n      fetch(\"/newrescue\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(newRescue, msg)\n      }).then(r => {\n        if (r.ok) {\n          r.json().then(rescue => {\n            setRescues([...rescues, rescue]);\n            fetch(\"/myrescues\", {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                rescue_id: rescue.id,\n                user_id: msg.id,\n                status: \"Admin\"\n              })\n            }).then(r => r.json()).then(r => {\n              setUserRescues([...userRescues, r]);\n              setAdded(true);\n            });\n          });\n        } else {\n          r.json().then(errorInfo => {\n            setErrors(errorInfo.errors);\n            setShowingErrors(!showingErrors);\n          });\n        }\n      });\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-rescue-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleAdd,\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 16\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleAdd,\n          type: \"text\",\n          name: \"location\",\n          placeholder: \"City, State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"formbutton\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 14\n      }, _this), errors && showingErrors ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", errors.map(e => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: e\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 72\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 67\n        }, _this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCloseErrors,\n          children: \"Close error messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, _this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 44\n      }, _this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, _this);\n  }(postNewRescue);\n}\n_s(NewRescue, \"BeOwivvaUKDRP829iKfP9Uxmq1Q=\");\n_c = NewRescue;\nexport default NewRescue;\nvar _c;\n$RefreshReg$(_c, \"NewRescue\");","map":{"version":3,"names":["React","useState","useContext","UserContext","NewRescue","postNewRescue","handleCloseErrors","showingErrors","setShowingErrors","errors","setErrors","rescues","setRescues","userRescues","setUserRescues","msg","added","setAdded","name","setName","location","setLocation","handleAdd","e","preventDefault","target","value","newRescue","handleSubmit","fetch","method","headers","body","JSON","stringify","then","r","ok","json","rescue","rescue_id","id","user_id","status","errorInfo","map"],"sources":["/Users/kstabile/backup-phase-5/client/src/Components/NewRescue.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport UserContext from \"./UserContext\"\n\nfunction NewRescue({ postNewRescue, handleCloseErrors, showingErrors, setShowingErrors, errors, setErrors, rescues, setRescues, userRescues, setUserRescues }) { \n    const msg = useContext(UserContext);\n    const [added, setAdded] = useState(false)\n    const [name, setName] = useState(\"\")\n    const [location, setLocation] = useState(\"\")\n    \n    function handleAdd(e) {\n        e.preventDefault();\n        if (e.target.name === \"name\") {\n           setName(e.target.value);\n        }\n        else if (e.target.name === \"location\") {\n            setLocation(e.target.value);\n        }\n    }\n    let newRescue = {\n        name,\n        location\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        postNewRescue(newRescue)\n}\nfunction postNewRescue(newRescue) {\n    fetch (\"/newrescue\", {\n        method: \"POST\",\n        headers: {\n        \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(newRescue, msg)\n        })\n    .then((r) => { \n        if (r.ok) { \n            r.json()\n    .then(rescue => {\n        setRescues([...rescues, rescue])\n        fetch (\"/myrescues\", {\n            method: \"POST\",\n            headers: {\n            \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ rescue_id: rescue.id, user_id: msg.id, status: \"Admin\" })\n            })\n        .then((r) => r.json())\n        .then((r) => {\n            setUserRescues([...userRescues, r]) \n            setAdded(true)\n        })\n    })\n}\nelse {\n    r.json().then((errorInfo) => {\n      setErrors(errorInfo.errors)\n      setShowingErrors(!showingErrors)\n       })\n}   \n})\n}\n    return (\n        <div className=\"add-rescue-form\">\n             <form onSubmit={handleSubmit}>\n               <input onChange={handleAdd}\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Name\"\n                ></input>\n                <input onChange={handleAdd}\n                type=\"text\"\n                name=\"location\"\n                placeholder=\"City, State\"\n                ></input>\n                <button className=\"formbutton\">Submit</button>\n            </form> \n                {errors && showingErrors ? <div> {errors.map(e => <div><p>{e}</p></div>) }\n                <button onClick={handleCloseErrors}>Close error messages</button> </div>  : null }\n         \n        </div>\n    );\n}\nexport default NewRescue; "],"mappings":"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"},"metadata":{},"sourceType":"module"}